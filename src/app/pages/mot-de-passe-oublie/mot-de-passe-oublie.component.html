<a href="#reset-title" class="visually-hidden focusable">Aller au formulaire de réinitialisation</a>

<div class="auth-page">
  <div class="container-message" aria-live="polite">
    <div *ngIf="resetError" class="callout callout-error" role="alert" id="resetErrorMsg">
      <span>{{ resetError }}</span>
    </div>
    <div *ngIf="resetSuccess" class="callout callout-success" role="status">
      <span>{{ resetSuccess }}</span>
    </div>
  </div>

  <div class="auth-card" role="form" aria-labelledby="reset-title" aria-describedby="resetInstructions">
    <h2 id="reset-title">
      <i class="fas fa-key" aria-hidden="true"></i> Réinitialiser votre mot de passe
    </h2>

    <p id="resetInstructions" class="form-instruction">
      Entrez votre adresse e-mail pour recevoir un lien de réinitialisation.
    </p>

    <form
      (ngSubmit)="onSubmit()"
      aria-label="Formulaire de récupération de mot de passe"
      role="form"
    >
      <div class="form-group-inline">
        <label for="email">Adresse e-mail <span class="required-star">*</span></label>
        <div class="input-wrapper">
          <i class="fas fa-envelope icon-left" aria-hidden="true"></i>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="email"
            placeholder="exemple@domaine.com"
            required
            autocomplete="email"
            [attr.aria-invalid]="resetError ? 'true' : 'false'"
            [attr.aria-describedby]="resetError ? 'resetErrorMsg' : 'resetInstructions'"
          />
        </div>
      </div>

      <button
        type="submit"
        class="btn-login"
        [disabled]="isSubmitting"
        [attr.aria-busy]="isSubmitting ? 'true' : null"
        [ngClass]="{ 'loading': isSubmitting }"
      >
        Réinitialiser
      </button>
    </form>

    <div class="register-link">
      Vous vous souvenez de votre mot de passe ?
      <a routerLink="/connexion" aria-label="Aller à la page de connexion"><strong>Se connecter</strong></a>
    </div>
  </div>
</div>
